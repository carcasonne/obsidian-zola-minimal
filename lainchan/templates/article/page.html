{% extends "base.html" %}

{% block content %}

<style>
.scroll-arrow {
  display: flex;
  flex-direction: column;
  align-items: center;
  background: var(--bg-primary);
  border: none;
  color: var(--border-color);
  padding: 0.5rem;
  font-family: var(--font-main);
  font-size: 1rem;
  cursor: pointer;
  pointer-events: auto;
  line-height: 1;
}

.scroll-arrow span {
  display: block;
}

.scroll-container.visible {
  opacity: 1;
}

.scroll-arrow {
  background: var(--bg-primary);
  border: none;
  color: var(--border-color);
  padding: 0.25rem 0.5rem;
  font-family: var(--font-main);
  font-size: var(--small-font-size);
  cursor: pointer;
  pointer-events: auto;
  line-height: 1;
  white-space: pre;
  margin-left: auto;
  margin-right: auto;
}

.scroll-arrow:hover {
  color: var(--accent-secondary);
}
</style>

<div class="content-wrapper">
  <article>
    <div class="metadata">
      <dl>
        <dt>TITLE</dt>
        <dd>{{ page.title }}</dd>
        
        {% if page.extra.theme %}
        <dt>THEME</dt>
        <dd>{{ page.extra.theme }}</dd>
        {% endif %}

        <dt>WORDS</dt>
        <dd>{{ page.word_count }}</dd>

        <dt>PUBLISHED</dt>
        <dd>D{{ page.date | date(format="%Y-%m-%d") }}</dd>

        {% if page.updated != page.date %}
        <dt>MODIFIED</dt>
        <dd>D{{ page.updated | date(format="%Y-%m-%d") }}</dd>
        {% endif %}
        
      </dl>
    </div>

    <div class="column-content">
      {{ page.content | safe }}
    </div>

    <div class="scroll-container">
      <button id="scroll-top" class="scroll-arrow" aria-label="Back to top">
        <span class="arrow-top">â†‘</span>
        <span class="arrow-line">|</span>
        <span class="arrow-line">|</span>
      </button>
    </div>

    <footer class="content-footer">
      --- END OF FILE ---
    </footer>
  </article>
</div>

<script>
const scrollBtn = document.getElementById('scroll-top');

window.addEventListener('scroll', () => {
  if (window.scrollY > 400) {
    scrollBtn.classList.add('visible');
  } else {
    scrollBtn.classList.remove('visible');
  }
});

scrollBtn.addEventListener('click', () => {
  window.scrollTo({ top: 0, behavior: 'smooth' });
});
</script>

{% endblock content %}